{"ast":null,"code":"import axios from'axios';import{InputText}from'primereact/inputtext';import React,{useState,useEffect}from'react';import{Button}from'primereact/button';import{Password}from'primereact/password';import{Card}from'primereact/card';import{Toast}from'primereact/toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginForm=()=>{const[email,setEmail]=useState('');const[passwd,setPassword]=useState('');const[error,setError]=useState(null);const toast=React.useRef(null);const handleClick=async e=>{e.preventDefault();if(email||!passwd){setError('All fields are required');toast.current.show({severity:'error',summary:'Error',detail:error,life:3000});return;}const requestData={email:email,passwd:passwd};const requestString=JSON.stringify(requestData);let response=200;try{response=await axios.post(window.entryPoint+'/user/login','json='+requestString);document.write(response);if(response.status===200){toast.current.show({severity:'success',summary:'Sign in Successful',detail:response.data.message,life:3000});}else{toast.current.show({severity:'error',summary:'Sign in Failed',detail:response.data.error,life:3000});}}catch(error){console.error(error);toast.current.show({severity:'error',summary:'Request Failed',detail:'Unable to reach the server',life:3000});}finally{}};return/*#__PURE__*/_jsx(\"div\",{className:\"Login-form-container\",style:{display:'flex',justifyContent:'center',alignItems:'center',height:'100vh'},children:/*#__PURE__*/_jsxs(Card,{title:\"Authenticate user\",style:{width:'400px'},children:[/*#__PURE__*/_jsx(Toast,{ref:toast}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleClick,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-field p-grid\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"p-col-12 p-md-2\",children:\"Email\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-col-12 p-md-10\",children:/*#__PURE__*/_jsx(InputText,{id:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Enter your email\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-field p-grid\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"p-col-12 p-md-2\",children:\"Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-col-12 p-md-10\",children:/*#__PURE__*/_jsx(Password,{id:\"password\",value:passwd,onChange:e=>setPassword(e.target.value),feedback:false,placeholder:\"Enter your password\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Submit\",className:\"p-col-12 p-md-2\",children:/*#__PURE__*/_jsx(\"br\",{})}),/*#__PURE__*/_jsx(Button,{label:\"Log in\",type:\"submit\",icon:\"pi pi-user\"})]})]})]})});};export default LoginForm;","map":{"version":3,"names":["axios","InputText","React","useState","useEffect","Button","Password","Card","Toast","jsx","_jsx","jsxs","_jsxs","LoginForm","email","setEmail","passwd","setPassword","error","setError","toast","useRef","handleClick","e","preventDefault","current","show","severity","summary","detail","life","requestData","requestString","JSON","stringify","response","post","window","entryPoint","document","write","status","data","message","console","className","style","display","justifyContent","alignItems","height","children","title","width","ref","onSubmit","htmlFor","id","value","onChange","target","placeholder","feedback","label","type","icon"],"sources":["/home/vassil/Documents/uni/sem9/gadna_java/my-static-react-app/src/loginForm.js"],"sourcesContent":["import axios from 'axios';\nimport { InputText } from 'primereact/inputtext';\nimport React, { useState, useEffect } from 'react';\n\nimport { Button } from 'primereact/button';\nimport { Password } from 'primereact/password';\nimport { Card } from 'primereact/card';\nimport { Toast } from 'primereact/toast';\n\nconst LoginForm = () => {\n    const [email, setEmail] = useState('');\n    const [passwd, setPassword] = useState('');\n    const [error, setError] = useState(null);\n    const toast = React.useRef(null);\n\n    const handleClick = async (e) => {\n        e.preventDefault();\n    \n        if (email || !passwd) {\n            setError('All fields are required');\n            toast.current.show({ severity: 'error', summary: 'Error', detail: error, life: 3000 });\n            return;\n        }\n        const requestData = {\n            email: email,\n            passwd: passwd\n          };\n        const requestString = JSON.stringify(requestData); \n        let response = 200;\n        try {\n            response = await axios.post(window.entryPoint + '/user/login', 'json=' + requestString);\n            document.write(response);\n            if (response.status === 200) {\n                toast.current.show({ severity: 'success', summary: 'Sign in Successful', detail: response.data.message, life: 3000 });\n            } else {\n                toast.current.show({ severity: 'error', summary: 'Sign in Failed', detail: response.data.error, life: 3000 });\n            }\n        } catch (error) {\n            console.error(error);\n            toast.current.show({ severity: 'error', summary: 'Request Failed', detail: 'Unable to reach the server', life: 3000 });\n        } finally {\n        }\n    };\n\n    return (\n        <div className=\"Login-form-container\" style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>\n            <Card title=\"Authenticate user\" style={{ width: '400px' }}>\n                <Toast ref={toast} />\n                <form onSubmit={handleClick}>\n                    <div className=\"p-field p-grid\">\n                        <label htmlFor=\"email\" className=\"p-col-12 p-md-2\">Email</label>\n                        <div className=\"p-col-12 p-md-10\">\n                            <InputText id=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Enter your email\" />\n                        </div>\n                    </div>\n                    <div className=\"p-field p-grid\">\n                        <label htmlFor=\"password\" className=\"p-col-12 p-md-2\">Password</label>\n                        <div className=\"p-col-12 p-md-10\">\n                            <Password id=\"password\" value={passwd} onChange={(e) => setPassword(e.target.value)} feedback={false} placeholder=\"Enter your password\" />\n                        </div>\n                    </div>\n                    <div className=\"p-field\">\n                        <label htmlFor=\"Submit\" className=\"p-col-12 p-md-2\"><br/></label>\n                        <Button label=\"Log in\" type=\"submit\" icon=\"pi pi-user\"/>\n                    </div>\n                </form>\n            </Card>\n        </div>\n    );\n};\n\nexport default LoginForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}